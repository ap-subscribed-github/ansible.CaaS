sudo: false
language: python
python:
  - "2.7"
  #- "3.5"
#env:
#  global: 
  #caas_username
 #   - secure: "a2CDr9D5rm0nPv63uDB4yxwwHciACJ0Sb59FF9/rzHO82wmCmGuc5dmDkhJ/Enzct4eI1/6Z6Kni43R/CkzQVGC1HVefKXWA6YOOhUfYOn1WWRCpvurwvtlTyPGDzIFF537bwBXGzNA/YdbDyKk15rWnyt0oprVIqYiSrddXNU8X+osOG91QpRA+c4peOF5jv/OeLccP206D5YvwjyjM05Ins5qPHFKwJZGoJAPdO+xAEthFXqkbqoPKgMRGRQ5lAVjMdLmae5SsMm9HpoeeZ0YZ1YXsuSB9Yrx1UL7wbfohcwEo84yr1Kxlgm99iFr575Rx27Ij7QhghphrdA6J4nUkms0j7CAltaq4iNouHE+oHdTU6kNT4ST6BQGhNYYP4miz7PYlFjG2LO0FxKF9XCzJNBYMLnhM3asMhThM6AGHHvHCh0beCNFZWBW5q9PY4AI96eIbWgdUuVEdOVNLbeKnCz0Sk4nGTFLGygeaZoVZcbh1l206YD8amy/mksWWx57pk5grnofszeBxM1mH07wxtGfKRZIA14rbLOSW18djnsx2+4leUSTzZESrxQ7QPH68Y4BQJpYFC7KF92DvnGOxOC63fXlnbzHwCZB+sqTF+tNTC6zsZSwCR0aPumK/F3dO6IgNE0oc67EVAVr0iwfRDJByiI4F5eAXnZ67XAY="
  #caas_password
#    - secure: "QC52ccqrkvkKcXpDq7WjYoMPkUQZdNFBz4gBmpm8N13H9esemL+oMTGIms+5tn3LFrOODnwc4V5lPT9+U1bs6INu2ORJs/G3fNsOuM07QLR+47xKKRBN8KdMPRY09ael46RAP1obxwXmghKa/LlRBfzSIcGiA0P0rtFd6CLqSuk41T0TNGbLFJlibP/VBSIN+GF9PU2mj/LRqAaZ3XaAyV9vKrfbqF3hIOBun8cYg9/8p1Fq7PCaB5MzmNCd9oIt2FL3EArm6ovitFoAaknFbWWp36FiTiez1tPmq2YPtGbE3Jz8yljlYA11bVR04UOvqTdhv63m1Yj+hm1C4OVvYEaUN/S6IXelYOkaZClGJFXwCi5Uz/pY0a6uLIo3ZXCRtUKg+cEr1oiVhlcn29fwJMl/c1NFKmk5ewN3640nzsa/TpaGKvWb9bMUvk4eda8GF5CZqDIRZ07iJXvFzxj+MYbNxkcKEhShHqJma8GD6u38yrTZf/gA6FomEuP5N4BTE1dMB0zhSD1lwzi7WW/4QkvunChpRv5oinEt3CbJnfKJojsd61OM+pq72YosA0W1bDPagg6thIXkNuTR9Gx1ofCSJMeWgMqZq+D+iUSsn0ln+5v8dukqzLeay4FhmfzQKiB3f29Wv+AD1EWnpKKEyLh+mAggtI3s6nQN3VvJObQ="
#    - caas_apiurl="https://api-eu.dimensiondata.com"
#    - caas_datacenter="EU6"
before_install:
 - pip install paramiko PyYAML jinja2 httplib2 passlib nose mock
 - git clone --branch=stable-2.0 git://github.com/ansible/ansible.git --recursive /home/travis/build/ansible
 - source /home/travis/build/ansible/hacking/env-setup
 - ln -s /home/travis/build/job-so/ansible.CaaS/library /home/travis/build/ansible/lib/ansible/modules/extras/cloud/dimension_data
script:
  #- sed "s/firstname.lastname/$caas_username" test/caas_credentials.yml
  - secure: "HXketO/dewCdA6R9iTl83KcXmNnskB1628NJpd1Mur7cE5NjlnUAP/dBFJ63zzhmal04fGgVlFVIyE+Akb8akms5r6WSFlCeDTGaQXqxW6GyeR0GO7Q6rQzvDvPYKIGOow0FiRRrToAqkZv1JY8Fkg00laZPkkasCmzx9X0AWn2wMi1bvmG111nuutSDlMqHJaBppzcm/k19TQqPulNxjoIiI43s00Kl0GNy8DUU46gbv8SJIxae5Cqpt0nN/qbwRQ9/dIgXlucl/FDzQdEDHXjJ2PJl//1ZyuFMqT5jP9EJK8jkArkbE60of6vsdV844l1SiGh7aqzyoopd3NcLIBnA6IgYA0nHLksuv6xDUTUFA+sg42sWdhNsjjmOLjhav5YXeDzcn/BPaMl+oLiK0DkEVfn4iuid9CpGHnJoGHdaA3eoxZzWQ/D2o7/LMzFaQhZeQwrnEREQX6Asc7J6bgT4n+UZvFea8LJtQOcnQaZSe6Yrk2/OtwYFAatGMWBZsivQRe9XhC9Fjk5NpHAqa17kLYKa4qVhfYI6vqtHX09mFg3Gf1N3H7iMo2qr38VMbi7IuIlpldg3PhAxqVstOqZIYWYkw+gov7jkikvZaDMqj7S+kTV/zVSFgC3VXKSUSRnSy0/ha8pY90+dGvVx7UEVyhH2W+JTcu7Hsl1fPhk="
  #- sed "s/MySecret_KeepItSecret/$caas_password" test/caas_credentials.yml
  - secure: "pSCsbW8CZux41oSN+HQs4spw7l4CpKf58iu0GsBb3Te3ZzXUKZJX5US+kNnJQjW5Dhucni+MA1Y+DqjenFzbAxf/yvn/F21k6Xkd7vzMaZx1eaax5J0nK1cpnreKLaD9K77yVj7QPYfzYp3w6PqbibRA0ADMMTYjrMTODzOQmNM/uFgAq9w0Sval9mNa5tYS3NF2M4QmF4XUjXtZARoAT5Wx4aYAGU6DVNT1kwF4W8vsYVlsU0kGScZfBUlwCHqgxAoIy/sDNn5OF2a7xcPWiCP/sxZz+oN6QaPZ2eJ45nM0tFo+PkmMvpRUgqKA5EYDySsvO+CEkFclvc2SBylQumlJaH18H/xgO4AOouJKjvmhXjKpfmBBM8Zwd2YoVT7kpSnm+WKd0m3YDYjAArzc/pAmz6P4G2P5I1v0KCAMtHRrN804sRb5++3p/ljjiaS1lz2oBZBw1JoVbHYLdlqeSR/48q97sxPreBrqf4JySMGda12HLtOEhBJKdE7v9a2ca1kZwXsQcZ4Vad9i5J2i1VirBuXLNLwLCDkm+IQQL9JM5T5WzBR3rGITssqWLDfoZBkWoqHjZeOqzkC3WUVX2kxc+MlHIBn7Lm78sQukqLsFyLKWnka1aw4kMld6A1U5VM2UaXqoIXjOMYPFZ3Rlqb7/sOH1o5k/m7eZ6izOpSQ="
  - python2.6 -m compileall -fq .
  - python2.7 -m compileall -fq .
  #- python3.5 -m compileall -fq .
  - ansible-playbook --version
  - ansible-playbook test/01-setup.yml